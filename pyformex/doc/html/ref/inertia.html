
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <!--
##
##  This file is part of the pyFormex project.
##  pyFormex is a tool for generating, manipulating and transforming 3D
##  geometrical models by sequences of mathematical operations.
##  Home page: http://pyformex.org
##  Project page:  http://savannah.nongnu.org/projects/pyformex/
##  Copyright (C) Benedict Verhegghe (benedict.verhegghe@ugent.be)
##  Distributed under the GNU General Public License version 3 or later.
##
##
##  This program is free software: you can redistribute it and/or modify
##  it under the terms of the GNU General Public License as published by
##  the Free Software Foundation, either version 3 of the License, or
##  (at your option) any later version.
##
##  This program is distributed in the hope that it will be useful,
##  but WITHOUT ANY WARRANTY; without even the implied warranty of
##  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
##  GNU General Public License for more details.
##
##  You should have received a copy of the GNU General Public License
##  along with this program.  If not, see http://www.gnu.org/licenses/.
##
-->
    <title>19. inertia — Compute inertia related quantities of geometrical models. &mdash; pyFormex 1.0.3-a2 documentation</title>

    
    <link rel="stylesheet" href="../_static/pyformex.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0.3-a2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="pyFormex 1.0.3-a2 documentation" href="../index.html" />
    <link rel="up" title="pyFormex reference manual" href="../refman.html" />
    <link rel="next" title="20. fileread — Read geometry from file in a whole number of formats." href="fileread.html" />
    <link rel="prev" title="18. geomtools — Basic geometrical operations." href="geomtools.html" />
<link rel="icon" type="image/png" href="_static/pyformex_fav.png" />

  </head>
  <body role="document">

<div class="header">
  <a href="http://pyformex.org">
  <img src="http://www.nongnu.org/pyformex/_static/scallop_dome_small.png" alt="scallop dome" border="0" hspace="20" vspace="12" align="left" />
  <img src="http://www.nongnu.org/pyformex/_static/pyformex-logo-2.png" alt="pyformex logo" border="0" hspace="10" vspace="8" align="left" />
  </a>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="fileread.html" title="20. fileread — Read geometry from file in a whole number of formats."
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="geomtools.html" title="18. geomtools — Basic geometrical operations."
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">pyFormex 1.0.3-a2 documentation</a> &gt;</li>
          <li class="nav-item nav-item-1"><a href="../refman.html" accesskey="U">pyFormex reference manual</a> &gt;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<!-- PYFORMEX_WEBSITE
<div align="center">

<form action="https://www.paypal.com/cgi-bin/webscr" method="post">
<input type="hidden" name="cmd" value="_s-xclick"/>
<input type="hidden" name="hosted_button_id" value="P7J4AM4QULB4Q"/>
<input type="image" src="https://www.paypal.com/en_US/BE/i/btn/btn_donateCC_LG.gif" name="submit" alt="PayPal - The safer, easier way to pay online!"/>
<img alt="" border="0" src="https://www.paypal.com/nl_NL/i/scr/pixel.gif" width="1" height="1"/>
</form>

</div>
PYFORMEX_WEBSITE -->
   
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">19. <code class="docutils literal"><span class="pre">inertia</span></code> &#8212; Compute inertia related quantities of geometrical models.</a><ul>
<li><a class="reference internal" href="#classes-defined-in-module-inertia">19.1. Classes defined in module inertia</a></li>
<li><a class="reference internal" href="#functions-defined-in-module-inertia">19.2. Functions defined in module inertia</a></li>
</ul>
</li>
</ul>


  <h4>Previous topic</h4>
  <p class="topless"><a href="geomtools.html"
                        title="previous chapter">18. <code class="docutils literal"><span class="pre">geomtools</span></code> &#8212; Basic geometrical operations.</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="fileread.html"
                        title="next chapter">20. <code class="docutils literal"><span class="pre">fileread</span></code> &#8212; Read geometry from file in a whole number of formats.</a></p>
  
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>

<!-- PYFORMEX_WEBSITE
<div align="center">
  <p>
  <a href="http://www.fsf.org/register_form?referrer=8491"><img src="http://www.nongnu.org/pyformex/_static/fsf-member8491.png" alt="[FSF Associate Member]" width="89" height="31"  /></a>
  </p>
  <p>
    <a href="http://validator.w3.org/check?uri=referer"><img
      src="http://www.w3.org/Icons/valid-xhtml10" alt="Valid XHTML 1.0 Transitional" height="31" width="88" /></a>
  </p>
</div>
PYFORMEX_WEBSITE -->

        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-inertia">
<span id="inertia-compute-inertia-related-quantities-of-geometrical-models"></span><span id="sec-ref-inertia"></span><h1>19. <a class="reference internal" href="#module-inertia" title="inertia: Compute inertia related quantities of geometrical models."><code class="xref py py-mod docutils literal"><span class="pre">inertia</span></code></a> &#8212; Compute inertia related quantities of geometrical models.<a class="headerlink" href="#module-inertia" title="Permalink to this headline">¶</a></h1>
<p>Inertia related quantities of a geometrical model comprise: the total mass,
the center of mass, the inertia tensor, the principal axes of inertia.</p>
<p>This module defines some classes to store the inertia data:</p>
<ul class="simple">
<li><a class="reference internal" href="#inertia.Tensor" title="inertia.Tensor"><code class="xref py py-class docutils literal"><span class="pre">Tensor</span></code></a>: a general second order tensor</li>
<li><a class="reference internal" href="#inertia.Inertia" title="inertia.Inertia"><code class="xref py py-class docutils literal"><span class="pre">Inertia</span></code></a>: a specialized second order tensor for inertia data</li>
</ul>
<p>This module also provides the basic functions to compute the inertia data
of collections of simple geometric data: points, lines, triangles, tetrahedrons.</p>
<p>The prefered way to compute inertia data of a geometric model is through the
<code class="xref py py-meth docutils literal"><span class="pre">Geometry.inertia()</span></code> methods.</p>
<div class="section" id="classes-defined-in-module-inertia">
<h2>19.1. Classes defined in module inertia<a class="headerlink" href="#classes-defined-in-module-inertia" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="inertia.Tensor">
<em class="property">class </em><code class="descclassname">inertia.</code><code class="descname">Tensor</code><a class="headerlink" href="#inertia.Tensor" title="Permalink to this definition">¶</a></dt>
<dd><p>A second order symmetric(!) shaped tensor in 3D vector space.</p>
<p>This is a new class under design. Only use for developemnt!</p>
<p>The Tensor class provides conversion between full matrix (3,3) shape
and contracted vector (6,) shape.
It can e.g. be used to store an inertia tensor or a stress or strain
tensor.
It provides methods to transform the tensor to other (cartesian)
axes.</p>
<p>Parameters:</p>
<ul class="simple">
<li><cite>data</cite>: array-like (float) of shape (3,3) or (6,)</li>
<li><cite>symmetric</cite>: bool. If True (default), the tensor is forced to be
symmetric by averaging the off-diagonal elements.</li>
<li><cite>cs</cite>: CoordSys. The coordinate system of the tensor.</li>
</ul>
<p>Properties: a Tensor T has the following properties:</p>
<ul class="simple">
<li>T.xx, T.xy, T.xz, T.yx, T.yy, T.yz, T.zx, T.zy, T.zz: aliases for
the nine components of the tensor</li>
<li>T.contracted: the (6,) shaped contracted array with independent
values of the tensor</li>
<li>T.tensor: the full tensor as an (3,3) array</li>
</ul>
<p>Discussion:</p>
<ul class="simple">
<li>inertia and stres/strain tensors transform in the same way
on rotations of axes. But differently on translations! Should we
therefore store the purpose of the tensor??<ul>
<li>Propose to leave it to the user to know what he is doing.</li>
<li>Propose to have a separate class Inertia derived from Tensor,
which implements computing the inertia tensor and translation.</li>
</ul>
</li>
<li>should we allow non-symmetrical tensors? Then what with principal?<ul>
<li>Propose to silently allow non-symm. Result of functions is what it is.
Again, suppose the user knows what he is doing.</li>
</ul>
</li>
</ul>
<p>Example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">Tensor</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="go">[[ 1.  6.  5.]</span>
<span class="go"> [ 6.  2.  4.]</span>
<span class="go"> [ 5.  4.  3.]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">contracted</span><span class="p">)</span>
<span class="go">[ 1.  2.  3.  4.  5.  6.]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">Tensor</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="go">[[ 1.  6.  5.]</span>
<span class="go"> [ 6.  2.  4.]</span>
<span class="go"> [ 5.  4.  3.]]</span>
</pre></div>
</div>
<dl class="method">
<dt id="inertia.Tensor.principal">
<code class="descname">principal</code><span class="sig-paren">(</span><em>sort=True</em>, <em>right_handed=True</em><span class="sig-paren">)</span><a class="headerlink" href="#inertia.Tensor.principal" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the principal values and axes of the inertia tensor.</p>
<p>Parameters:</p>
<ul class="simple">
<li><cite>sort</cite>: bool. If True (default), the return values are sorted
in order of decreasing principal values. Otherwise they are
unsorted.</li>
<li><cite>right_handed</cite>: bool. If True (default), the returned axis vectors
are guaranteed to form a right-handed coordinate system.
Otherwise, lef-handed systems may result)</li>
</ul>
<p>Returns a tuple (prin,axes) where</p>
<ul class="simple">
<li><cite>prin</cite>: is a (3,) array with the principal values,</li>
<li><cite>axes</cite>: is a (3,3) array with the rotation matrix that
rotates the global axes to the principal axes. This also
means that the columns of axes are the unit vectors along
the principal directions.</li>
</ul>
<p>Example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">Tensor</span><span class="p">([</span><span class="o">-</span><span class="mf">19.</span><span class="p">,</span> <span class="mf">4.6</span><span class="p">,</span> <span class="o">-</span><span class="mf">8.3</span><span class="p">,</span> <span class="mf">11.8</span><span class="p">,</span> <span class="mf">6.45</span><span class="p">,</span> <span class="o">-</span><span class="mf">4.7</span> <span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="p">,</span><span class="n">a</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">principal</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
<span class="go">[ 11.62  -9.   -25.32]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">[[-0.03 -0.62 -0.78]</span>
<span class="go"> [ 0.86  0.38 -0.33]</span>
<span class="go"> [ 0.5  -0.69  0.53]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="inertia.Tensor.rotate">
<code class="descname">rotate</code><span class="sig-paren">(</span><em>rot</em><span class="sig-paren">)</span><a class="headerlink" href="#inertia.Tensor.rotate" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform the tensor on coordinate system rotation.</p>
<p>Note: for an inertia tensor, the inertia should have been
computed around axes through the center of mass.
See also translate.</p>
<p>Example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">Tensor</span><span class="p">([</span><span class="o">-</span><span class="mf">19.</span><span class="p">,</span> <span class="mf">4.6</span><span class="p">,</span> <span class="o">-</span><span class="mf">8.3</span><span class="p">,</span> <span class="mf">11.8</span><span class="p">,</span> <span class="mf">6.45</span><span class="p">,</span> <span class="o">-</span><span class="mf">4.7</span> <span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="p">,</span><span class="n">a</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">principal</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">inv</span><span class="p">(</span><span class="n">a</span><span class="p">)))</span>
<span class="go">[[ 11.62   0.     0.  ]</span>
<span class="go"> [ -0.    -9.    -0.  ]</span>
<span class="go"> [  0.    -0.   -25.32]]</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="inertia.Inertia">
<em class="property">class </em><code class="descclassname">inertia.</code><code class="descname">Inertia</code><a class="headerlink" href="#inertia.Inertia" title="Permalink to this definition">¶</a></dt>
<dd><p>A class for storing the inertia tensor of an array of points.</p>
<p>Parameters:</p>
<ul>
<li><p class="first"><cite>X</cite>: a Coords with shape (npoints,3). Shapes (...,3) are accepted
but will be reshaped to (npoints,3).</p>
</li>
<li><p class="first"><cite>mass</cite>: optional, (npoints,) float array with the mass of the points.
If omitted, all points have mass 1.</p>
<p>The result is a tuple of two float arrays:</p>
<ul class="simple">
<li>the center of gravity: shape (3,)</li>
<li>the inertia tensor: shape (6,) with the following values (in order):
Ixx, Iyy, Izz, Iyz, Izx, Ixy</li>
</ul>
</li>
</ul>
<p>Example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">.elements</span> <span class="k">import</span> <span class="n">Tet4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span> <span class="o">=</span> <span class="n">Tet4</span><span class="o">.</span><span class="n">vertices</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
<span class="go">[[ 0.  0.  0.]</span>
<span class="go"> [ 1.  0.  0.]</span>
<span class="go"> [ 0.  1.  0.]</span>
<span class="go"> [ 0.  0.  1.]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">I</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">inertia</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">I</span><span class="p">)</span>
<span class="go">[[ 1.5   0.25  0.25]</span>
<span class="go"> [ 0.25  1.5   0.25]</span>
<span class="go"> [ 0.25  0.25  1.5 ]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">I</span><span class="o">.</span><span class="n">ctr</span><span class="p">)</span>
<span class="go">[ 0.25  0.25  0.25]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">I</span><span class="o">.</span><span class="n">mass</span><span class="p">)</span>
<span class="go">4.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">I</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="o">-</span><span class="n">I</span><span class="o">.</span><span class="n">ctr</span><span class="p">))</span>
<span class="go">[[ 2.  0.  0.]</span>
<span class="go"> [ 0.  2.  0.]</span>
<span class="go"> [ 0.  0.  2.]]</span>
</pre></div>
</div>
<dl class="method">
<dt id="inertia.Inertia.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><em>trl</em>, <em>toG=False</em><span class="sig-paren">)</span><a class="headerlink" href="#inertia.Inertia.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the inertia tensor around axes translated over vector trl.</p>
<p>Parameters:</p>
<ul class="simple">
<li><cite>trl</cite>: arraylike (3,). Distance vector from the center of mass
to the new reference point.</li>
<li><cite>toG</cite>: bool. If False (default) the inertia tensor is translated to the
the  new reference point, otherwise it will be translated to its center
of mass</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="inertia.Inertia.translateTo">
<code class="descname">translateTo</code><span class="sig-paren">(</span><em>ref</em>, <em>toG=False</em><span class="sig-paren">)</span><a class="headerlink" href="#inertia.Inertia.translateTo" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the inertia tensor around axes translated to the reference
point ref.</p>
<p>Parameters:</p>
<ul class="simple">
<li><cite>ref</cite>: arraylike (3,). The new reference point coordinates.</li>
<li><cite>toG</cite>: bool. If False (default) the inertia tensor is translated to the
the  new reference point, otherwise it will be translated to its center
of mass</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="inertia.Inertia.toCS">
<code class="descname">toCS</code><span class="sig-paren">(</span><em>cs</em><span class="sig-paren">)</span><a class="headerlink" href="#inertia.Inertia.toCS" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform the coordinates to another CoordSys.</p>
</dd></dl>

<dl class="method">
<dt id="inertia.Inertia.principal">
<code class="descname">principal</code><span class="sig-paren">(</span><em>sort=True</em>, <em>right_handed=True</em><span class="sig-paren">)</span><a class="headerlink" href="#inertia.Inertia.principal" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the principal values and axes of the inertia tensor.</p>
<p>Parameters:</p>
<ul class="simple">
<li><cite>sort</cite>: bool. If True (default), the return values are sorted
in order of decreasing principal values. Otherwise they are
unsorted.</li>
<li><cite>right_handed</cite>: bool. If True (default), the returned axis vectors
are guaranteed to form a right-handed coordinate system.
Otherwise, lef-handed systems may result)</li>
</ul>
<p>Returns a tuple (prin,axes) where</p>
<ul class="simple">
<li><cite>prin</cite>: is a (3,) array with the principal values,</li>
<li><cite>axes</cite>: is a (3,3) array with the rotation matrix that
rotates the global axes to the principal axes. This also
means that the columns of axes are the unit vectors along
the principal directions.</li>
</ul>
<p>Example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">Tensor</span><span class="p">([</span><span class="o">-</span><span class="mf">19.</span><span class="p">,</span> <span class="mf">4.6</span><span class="p">,</span> <span class="o">-</span><span class="mf">8.3</span><span class="p">,</span> <span class="mf">11.8</span><span class="p">,</span> <span class="mf">6.45</span><span class="p">,</span> <span class="o">-</span><span class="mf">4.7</span> <span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="p">,</span><span class="n">a</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">principal</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
<span class="go">[ 11.62  -9.   -25.32]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">[[-0.03 -0.62 -0.78]</span>
<span class="go"> [ 0.86  0.38 -0.33]</span>
<span class="go"> [ 0.5  -0.69  0.53]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="inertia.Inertia.rotate">
<code class="descname">rotate</code><span class="sig-paren">(</span><em>rot</em><span class="sig-paren">)</span><a class="headerlink" href="#inertia.Inertia.rotate" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform the tensor on coordinate system rotation.</p>
<p>Note: for an inertia tensor, the inertia should have been
computed around axes through the center of mass.
See also translate.</p>
<p>Example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">Tensor</span><span class="p">([</span><span class="o">-</span><span class="mf">19.</span><span class="p">,</span> <span class="mf">4.6</span><span class="p">,</span> <span class="o">-</span><span class="mf">8.3</span><span class="p">,</span> <span class="mf">11.8</span><span class="p">,</span> <span class="mf">6.45</span><span class="p">,</span> <span class="o">-</span><span class="mf">4.7</span> <span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="p">,</span><span class="n">a</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">principal</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">inv</span><span class="p">(</span><span class="n">a</span><span class="p">)))</span>
<span class="go">[[ 11.62   0.     0.  ]</span>
<span class="go"> [ -0.    -9.    -0.  ]</span>
<span class="go"> [  0.    -0.   -25.32]]</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="functions-defined-in-module-inertia">
<h2>19.2. Functions defined in module inertia<a class="headerlink" href="#functions-defined-in-module-inertia" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="inertia.point_inertia">
<code class="descclassname">inertia.</code><code class="descname">point_inertia</code><span class="sig-paren">(</span><em>X</em>, <em>mass=None</em>, <em>center_only=False</em><span class="sig-paren">)</span><a class="headerlink" href="#inertia.point_inertia" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the total mass, center of mass and inertia tensor mass points.</p>
<p>Parameters:</p>
<ul class="simple">
<li><cite>X</cite>: a Coords with shape (npoints,3). Shapes (...,3) are accepted
but will be reshaped to (npoints,3).</li>
<li><cite>mass</cite>: optional, (npoints,) float array with the mass of the points.
If omitted, all points have mass 1.</li>
<li><cite>center_only</cite>: bool: if True, only returns the total mass and center
of mass.</li>
</ul>
<p>Returns a tuple (M,C,I) where M is the total mass of all points, C is
the center of mass, and I is the inertia tensor in the central coordinate
system, i.e. a coordinate system with axes paralle to the global axes
but origin at the (computed) center of mass. If <cite>center_only</cite> is True,
returns the tuple (M,C) only. On large models this is more effective
in case you do not need the inertia tensor.</p>
</dd></dl>

<dl class="function">
<dt id="inertia.surface_volume">
<code class="descclassname">inertia.</code><code class="descname">surface_volume</code><span class="sig-paren">(</span><em>x</em>, <em>pt=None</em><span class="sig-paren">)</span><a class="headerlink" href="#inertia.surface_volume" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the volume inside a 3-plex Formex.</p>
<ul class="simple">
<li><cite>x</cite>: an (ntri,3,3) shaped float array, representing ntri triangles.</li>
<li><cite>pt</cite>: a point in space. If unspecified, it is taken equal to the
origin of the global coordinate system ([0.,0.,0.]).</li>
</ul>
<p>Returns an (ntri) shaped array with the volume of the tetrahedrons formed
by the triangles and the point <cite>pt</cite>. Triangles with an outer normal
pointing away from <cite>pt</cite> will generate positive tetrahral volumes, while
triangles having <cite>pt</cite> at the side of their positive normal will generate
negative volumes. In any case, if <cite>x</cite> represents a closed surface,
the algebraic sum of all the volumes is the total volume inside the surface.</p>
</dd></dl>

<dl class="function">
<dt id="inertia.surface_volume_inertia">
<code class="descclassname">inertia.</code><code class="descname">surface_volume_inertia</code><span class="sig-paren">(</span><em>x</em>, <em>center_only=False</em><span class="sig-paren">)</span><a class="headerlink" href="#inertia.surface_volume_inertia" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the inertia of the volume inside a 3-plex Formex.</p>
<ul class="simple">
<li><cite>x</cite>: an (ntri,3,3) shaped float array, representing ntri triangles.</li>
</ul>
<p>This uses the same algorithm as tetrahedral_inertia using [0.,0.,0.]
as the 4-th point for each tetrahedron.</p>
<p>Returns a tuple (V,C,I) where V is the total volume,
C is the center of mass (3,) and I is the inertia tensor (6,) of the
tetrahedral model.</p>
<p>Example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">.simple</span> <span class="k">import</span> <span class="n">sphere</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">S</span> <span class="o">=</span> <span class="n">sphere</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">toFormex</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">V</span><span class="p">,</span><span class="n">C</span><span class="p">,</span><span class="n">I</span> <span class="o">=</span> <span class="n">surface_volume_inertia</span><span class="p">(</span><span class="n">S</span><span class="o">.</span><span class="n">coords</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">V</span><span class="p">,</span><span class="n">C</span><span class="p">,</span><span class="n">I</span><span class="p">)</span>
<span class="go">4.04701 [-0. -0. -0.] [ 1.58  1.58  1.58 -0.    0.    0.  ]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="inertia.tetrahedral_volume">
<code class="descclassname">inertia.</code><code class="descname">tetrahedral_volume</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#inertia.tetrahedral_volume" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the volume of tetrahedrons.</p>
<ul class="simple">
<li><cite>x</cite>: an (ntet,4,3) shaped float array, representing ntet tetrahedrons.</li>
</ul>
<p>Returns an (ntet,) shaped array with the volume of the tetrahedrons.
Depending on the ordering of the points, this volume may be positive
or negative. It will be positive if point 4 is on the side of the positive
normal formed by the first 3 points.</p>
</dd></dl>

<dl class="function">
<dt id="inertia.tetrahedral_inertia">
<code class="descclassname">inertia.</code><code class="descname">tetrahedral_inertia</code><span class="sig-paren">(</span><em>x</em>, <em>density=None</em>, <em>center_only=False</em><span class="sig-paren">)</span><a class="headerlink" href="#inertia.tetrahedral_inertia" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the inertia of the volume of a 4-plex Formex.</p>
<p>Parameters:</p>
<ul class="simple">
<li><cite>x</cite>: an (ntet,4,3) shaped float array, representing ntet tetrahedrons.</li>
<li><cite>density</cite>: optional mass density (ntet,) per tetrahedron</li>
<li><cite>center_only</cite>: bool. If True, returns only the total volume, total mass
and center of gravity. This may be used on large models when only these
quantities are required.</li>
</ul>
<p>Returns a tuple (V,M,C,I) where V is the total volume, M is the total mass,
C is the center of mass (3,) and I is the inertia tensor (6,) of the
tetrahedral model.</p>
<p>Formulas for inertia were based on F. Tonon, J. Math &amp; Stat, 1(1):8-11,2005</p>
<p>Example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">Coords</span><span class="p">([</span>
<span class="gp">... </span>    <span class="p">[</span>  <span class="mf">8.33220</span><span class="p">,</span> <span class="o">-</span><span class="mf">11.86875</span><span class="p">,</span>  <span class="mf">0.93355</span> <span class="p">],</span>
<span class="gp">... </span>    <span class="p">[</span>  <span class="mf">0.75523</span><span class="p">,</span>   <span class="mf">5.00000</span><span class="p">,</span> <span class="mf">16.37072</span> <span class="p">],</span>
<span class="gp">... </span>    <span class="p">[</span> <span class="mf">52.61236</span><span class="p">,</span>   <span class="mf">5.00000</span><span class="p">,</span> <span class="o">-</span><span class="mf">5.38580</span> <span class="p">],</span>
<span class="gp">... </span>    <span class="p">[</span>  <span class="mf">2.000000</span><span class="p">,</span>  <span class="mf">5.00000</span><span class="p">,</span>  <span class="mf">3.00000</span> <span class="p">],</span>
<span class="gp">... </span>    <span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">Formex</span><span class="p">([</span><span class="n">x</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">tetrahedral_center</span><span class="p">(</span><span class="n">F</span><span class="o">.</span><span class="n">coords</span><span class="p">))</span>
<span class="go">[ 15.92   0.78   3.73]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">tetrahedral_volume</span><span class="p">(</span><span class="n">F</span><span class="o">.</span><span class="n">coords</span><span class="p">))</span>
<span class="go">[ 1873.23]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="o">*</span><span class="n">tetrahedral_inertia</span><span class="p">(</span><span class="n">F</span><span class="o">.</span><span class="n">coords</span><span class="p">))</span>
<span class="go">1873.23 1873.23 [ 15.92   0.78   3.73] [  43520.32  194711.28  191168.77    4417.66  -46343.16   11996.2 ]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="inertia.tetrahedral_center">
<code class="descclassname">inertia.</code><code class="descname">tetrahedral_center</code><span class="sig-paren">(</span><em>x</em>, <em>density=None</em><span class="sig-paren">)</span><a class="headerlink" href="#inertia.tetrahedral_center" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the center of mass of a collection of tetrahedrons.</p>
<ul class="simple">
<li><cite>x</cite>: an (ntet,4,3) shaped float array, representing ntet tetrahedrons.</li>
<li><cite>density</cite>: optional mass density (ntet,) per tetrahedron. Default 1.</li>
</ul>
<p>Returns a (3,) shaped array with the center of mass.</p>
</dd></dl>

<dl class="function">
<dt id="inertia.inertia">
<code class="descclassname">inertia.</code><code class="descname">inertia</code><span class="sig-paren">(</span><em>X</em>, <em>mass=None</em>, <em>center_only=False</em><span class="sig-paren">)</span><a class="headerlink" href="#inertia.inertia" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the total mass, center of mass and inertia tensor mass points.</p>
<p>Parameters:</p>
<ul class="simple">
<li><cite>X</cite>: a Coords with shape (npoints,3). Shapes (...,3) are accepted
but will be reshaped to (npoints,3).</li>
<li><cite>mass</cite>: optional, (npoints,) float array with the mass of the points.
If omitted, all points have mass 1.</li>
<li><cite>center_only</cite>: bool: if True, only returns the total mass and center
of mass.</li>
</ul>
<p>Returns a tuple (M,C,I) where M is the total mass of all points, C is
the center of mass, and I is the inertia tensor in the central coordinate
system, i.e. a coordinate system with axes paralle to the global axes
but origin at the (computed) center of mass. If <cite>center_only</cite> is True,
returns the tuple (M,C) only. On large models this is more effective
in case you do not need the inertia tensor.</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="fileread.html" title="20. fileread — Read geometry from file in a whole number of formats."
             >next</a> |</li>
        <li class="right" >
          <a href="geomtools.html" title="18. geomtools — Basic geometrical operations."
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">pyFormex 1.0.3-a2 documentation</a> &gt;</li>
          <li class="nav-item nav-item-1"><a href="../refman.html" >pyFormex reference manual</a> &gt;</li> 
      </ul>
    </div>
    <div class="footer">
    <span class="left">
        &copy; Copyright 2004-2015, Benedict Verhegghe.
    </span>
      Last updated on Sep 28, 2016.
    <span class="right">
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.4.5.
    </span>
    </div>
  </body>
</html>