

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<!-- 
##
##  This file is part of the pyFormex project.
##  pyFormex is a tool for generating, manipulating and transforming 3D
##  geometrical models by sequences of mathematical operations.
##  Home page: http://pyformex.org
##  Project page:  http://savannah.nongnu.org/projects/pyformex/
##  Copyright (C) Benedict Verhegghe (benedict.verhegghe@ugent.be) 
##  Distributed under the GNU General Public License version 3 or later.
##
##
##  This program is free software: you can redistribute it and/or modify
##  it under the terms of the GNU General Public License as published by
##  the Free Software Foundation, either version 3 of the License, or
##  (at your option) any later version.
##
##  This program is distributed in the hope that it will be useful,
##  but WITHOUT ANY WARRANTY; without even the implied warranty of
##  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
##  GNU General Public License for more details.
##
##  You should have received a copy of the GNU General Public License
##  along with this program.  If not, see http://www.gnu.org/licenses/.
##
-->


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>69. opengl.camera — OpenGL camera handling &mdash; pyFormex 1.0.2-a6 documentation</title>

    
    <link rel="stylesheet" href="../_static/pyformex.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0.2-a6',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="pyFormex 1.0.2-a6 documentation" href="../index.html" />
    <link rel="up" title="pyFormex reference manual" href="../refman.html" />
    <link rel="next" title="70. opengl.canvas — This implements an OpenGL drawing widget for painting 3D scenes." href="opengl.canvas.html" />
    <link rel="prev" title="68. plugins.calpy_itf — Calpy interface for pyFormex." href="plugins.calpy_itf.html" />
<link rel="icon" type="image/png" href="_static/pyformex_fav.png" />

  </head>
  <body role="document">

<div class="header">
  <a href="http://pyformex.org">
  <img src="http://www.nongnu.org/pyformex/_static/scallop_dome_small.png" alt="scallop dome" border="0" hspace="20" vspace="12" align="left" />
  <img src="http://www.nongnu.org/pyformex/_static/pyformex-logo-2.png" alt="pyformex logo" border="0" hspace="10" vspace="8" align="left" />
  </a>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="opengl.canvas.html" title="70. opengl.canvas — This implements an OpenGL drawing widget for painting 3D scenes."
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="plugins.calpy_itf.html" title="68. plugins.calpy_itf — Calpy interface for pyFormex."
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">pyFormex 1.0.2-a6 documentation</a> &gt;</li>
          <li class="nav-item nav-item-1"><a href="../refman.html" accesskey="U">pyFormex reference manual</a> &gt;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div align="center">

<form action="https://www.paypal.com/cgi-bin/webscr" method="post">
<input type="hidden" name="cmd" value="_s-xclick"/>
<input type="hidden" name="hosted_button_id" value="P7J4AM4QULB4Q"/>
<input type="image" src="https://www.paypal.com/en_US/BE/i/btn/btn_donateCC_LG.gif" name="submit" alt="PayPal - The safer, easier way to pay online!"/>
<img alt="" border="0" src="https://www.paypal.com/nl_NL/i/scr/pixel.gif" width="1" height="1"/>
</form>

</div>
   
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">69. <code class="docutils literal"><span class="pre">opengl.camera</span></code> &#8212; OpenGL camera handling</a><ul>
<li><a class="reference internal" href="#classes-defined-in-module-opengl-camera">69.1. Classes defined in module opengl.camera</a></li>
<li><a class="reference internal" href="#functions-defined-in-module-opengl-camera">69.2. Functions defined in module opengl.camera</a></li>
</ul>
</li>
</ul>


  <h4>Previous topic</h4>
  <p class="topless"><a href="plugins.calpy_itf.html"
                        title="previous chapter">68. <code class="docutils literal"><span class="pre">plugins.calpy_itf</span></code> &#8212; Calpy interface for pyFormex.</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="opengl.canvas.html"
                        title="next chapter">70. <code class="docutils literal"><span class="pre">opengl.canvas</span></code> &#8212; This implements an OpenGL drawing widget for painting 3D scenes.</a></p>
  
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>

<div align="center">
  <p>
  <a href="http://www.fsf.org/register_form?referrer=8491"><img src="http://www.nongnu.org/pyformex/_static/fsf-member8491.png" alt="[FSF Associate Member]" width="89" height="31"  /></a>
  </p>
  <p>
    <a href="http://validator.w3.org/check?uri=referer"><img
      src="http://www.w3.org/Icons/valid-xhtml10" alt="Valid XHTML 1.0 Transitional" height="31" width="88" /></a>
  </p>
</div>

        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-opengl.camera">
<span id="opengl-camera-opengl-camera-handling"></span><span id="sec-ref-opengl-camera"></span><h1>69. <a class="reference internal" href="#module-opengl.camera" title="opengl.camera: OpenGL camera handling"><code class="xref py py-mod docutils literal"><span class="pre">opengl.camera</span></code></a> &#8212; OpenGL camera handling<a class="headerlink" href="#module-opengl.camera" title="Permalink to this headline">¶</a></h1>
<p>Python OpenGL framework for pyFormex</p>
<p>This OpenGL framework is intended to replace (in due time)
the current OpenGL framework in pyFormex.</p>
<ol class="upperalpha simple" start="3">
<li>2013 Benedict Verhegghe and the pyFormex project.</li>
</ol>
<div class="section" id="classes-defined-in-module-opengl-camera">
<h2>69.1. Classes defined in module opengl.camera<a class="headerlink" href="#classes-defined-in-module-opengl-camera" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="opengl.camera.ViewAngles">
<em class="property">class </em><code class="descclassname">opengl.camera.</code><code class="descname">ViewAngles</code><span class="sig-paren">(</span><em>data={'right': (90.0</em>, <em>0.0</em>, <em>0.0)</em>, <em>'back': (180.0</em>, <em>0.0</em>, <em>0.0)</em>, <em>'iso1': (45.0</em>, <em>135.0</em>, <em>0.0)</em>, <em>'iso0': (45.0</em>, <em>45.0</em>, <em>0.0)</em>, <em>'iso3': (45.0</em>, <em>315.0</em>, <em>0.0)</em>, <em>'iso2': (45.0</em>, <em>225.0</em>, <em>0.0)</em>, <em>'iso5': (-45.0</em>, <em>135.0</em>, <em>0.0)</em>, <em>'iso4': (-45.0</em>, <em>45.0</em>, <em>0.0)</em>, <em>'iso7': (-45.0</em>, <em>315.0</em>, <em>0.0)</em>, <em>'iso6': (-45.0</em>, <em>225.0</em>, <em>0.0)</em>, <em>'front': (0.0</em>, <em>0.0</em>, <em>0.0)</em>, <em>'bottom': (0.0</em>, <em>-90.0</em>, <em>0.0)</em>, <em>'top': (0.0</em>, <em>90.0</em>, <em>0.0)</em>, <em>'left': (270.0</em>, <em>0.0</em>, <em>0.0)}</em><span class="sig-paren">)</span><a class="headerlink" href="#opengl.camera.ViewAngles" title="Permalink to this definition">¶</a></dt>
<dd><p>A dict to keep named camera angle settings.</p>
<p>This class keeps a dictionary of named angle settings. Each value is
a tuple of (longitude, latitude, twist) camera angles.
This is a static class which should not need to be instantiated.</p>
<p>There are seven predefined values: six for looking along global
coordinate axes, one isometric view.</p>
<dl class="method">
<dt id="opengl.camera.ViewAngles.get">
<code class="descname">get</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#opengl.camera.ViewAngles.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the angles for a named view.</p>
<p>Returns a tuple of angles (longitude, latitude, twist) if the
named view was defined, or None otherwise</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="opengl.camera.Camera">
<em class="property">class </em><code class="descclassname">opengl.camera.</code><code class="descname">Camera</code><span class="sig-paren">(</span><em>focus=[0.0, 0.0, 0.0], angles=[0.0, 0.0, 0.0], dist=1.0</em><span class="sig-paren">)</span><a class="headerlink" href="#opengl.camera.Camera" title="Permalink to this definition">¶</a></dt>
<dd><p>A camera for 3D model rendering.</p>
<p>The Camera class holds all the camera parameters related to the
rendering of a 3D scene onto a 2D canvas. These includes parameters
related to camera position and orientation, as well as lens related
parameters (opening angle, front and back clipping planes).
The class provides the required matrices to transform the 3D world
coordinates to 2D canvas coordinates, as well as a wealth of methods
to change the camera settings in a convenient way so as to simulate
smooth camera manipulation.</p>
<p>The basic theory of camera handling and 3D rendering can be found in
a lot of places on the internet, especially in OpenGL related places.
However, while the pyFormex rendering engine is based on OpenGL,
the way it stores and handles the camera parameters is more sophisticated
than what is usually found in popular tutorials on OpenGL rendering.
Therefore we give here a extensive description of how the pyFormex
camera handling and 3D to 2D coordinate transformation works.</p>
<p>Camera position and orientation:</p>
<blockquote>
<div><p>The camera viewing line is defined by two points: the position of
the camera and the center of the scene the camera is looking at.
We use the center of the scene as the origin of a local coordinate
system to define the camera position. For convenience, this could be
stored in spherical coordinates, as a distance value and two angles:
longitude and latitude. Furthermore, the camera can also rotate around
its viewing line. We can define this by a third angle, the twist.
From these four values, the needed translation vector and rotation
matrix for the scene rendering may be calculated.</p>
<p>Inversely however, we can not compute a unique set of angles from
a given rotation matrix (this is known as &#8216;gimball lock&#8217;).
As a result, continuous (smooth) camera rotation by e.g. mouse control
requires that the camera orientation be stored as the full rotation
matrix, rather than as three angles. Therefore we store the camera
position and orientation as follows:</p>
<ul class="simple">
<li><cite>ctr</cite>: <cite>[ x,y,z ]</cite> : the reference point of the camera:
this is always a point on the viewing axis. Usually, it is set to
the center of the scene you are looking at.</li>
<li><cite>dist</cite>: distance of the camera to the reference point.</li>
<li><cite>rot</cite>: a 3x3 rotation matrix, rotating the global coordinate system
thus that the z-direction is oriented from center to camera.</li>
</ul>
<p>These values have influence on the Modelview matrix.</p>
</div></blockquote>
<p>Camera lens settings:</p>
<blockquote>
<div><p>The lens parameters define the volume that is seen by the camera.
It is described by the following parameters:</p>
<ul class="simple">
<li><cite>fovy</cite>: the vertical lens opening angle (Field Of View Y),</li>
<li><cite>aspect</cite>: the aspect ratio (width/height) of the lens. The product
<cite>fovy * aspect</cite> is the horizontal field of view.</li>
<li><cite>near, far</cite>: the position of the front and back clipping planes.
They are given as distances from the camera and should both be
strictly positive. Anything that is closer to the camera than
the <cite>near</cite> plane or further away than the <cite>far</cite> plane, will not be
shown on the canvas.</li>
</ul>
<p>Camera methods that change these values will not directly change
the Modelview matrix. The <a class="reference internal" href="#opengl.camera.Camera.loadModelview" title="opengl.camera.Camera.loadModelview"><code class="xref py py-meth docutils literal"><span class="pre">loadModelview()</span></code></a> method has to be called
explicitely to make the settings active.</p>
<p>These values have influence on the Projection matrix.</p>
</div></blockquote>
<p>Methods that change the camera position, orientation or lens parameters
will not directly change the related Modelview or Projection matrix.
They will just flag a change in the camera settings. The changes are
only activated by a call to the <a class="reference internal" href="#opengl.camera.Camera.loadModelview" title="opengl.camera.Camera.loadModelview"><code class="xref py py-meth docutils literal"><span class="pre">loadModelview()</span></code></a> or
<a class="reference internal" href="#opengl.camera.Camera.loadProjection" title="opengl.camera.Camera.loadProjection"><code class="xref py py-meth docutils literal"><span class="pre">loadProjection()</span></code></a> method, which will test the flags to see whether
the corresponding matrix needs a rebuild.</p>
<p>The default camera is at distance 1.0 of the center point [0.,0.,0.] and
looking in the -z direction.
Near and far clipping planes are by default set to 0.1, resp 10 times
the camera distance.</p>
<p>Properties:</p>
<ul class="simple">
<li><cite>modelview</cite>: Matrix4: the OpenGL Modelview transformation matrix</li>
<li><cite>projection</cite>: Matrix4: the OpenGL Projection transformation matrix</li>
</ul>
<dl class="method">
<dt id="opengl.camera.Camera.setAngles">
<code class="descname">setAngles</code><span class="sig-paren">(</span><em>angles</em><span class="sig-paren">)</span><a class="headerlink" href="#opengl.camera.Camera.setAngles" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the rotation angles.</p>
<p>angles is either:</p>
<ul class="simple">
<li>a tuple of angles (long,lat,twist)</li>
<li>a named view corresponding to angles in view_angles</li>
<li>None</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="opengl.camera.Camera.lock">
<code class="descname">lock</code><span class="sig-paren">(</span><em>onoff=True</em><span class="sig-paren">)</span><a class="headerlink" href="#opengl.camera.Camera.lock" title="Permalink to this definition">¶</a></dt>
<dd><p>Lock/unlock a camera.</p>
<p>When a camera is locked, its position and lens parameters can not be
changed.
This can e.g. be used in multiple viewports layouts to create fixed
views from different angles.</p>
</dd></dl>

<dl class="method">
<dt id="opengl.camera.Camera.report">
<code class="descname">report</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#opengl.camera.Camera.report" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a report of the current camera settings.</p>
</dd></dl>

<dl class="method">
<dt id="opengl.camera.Camera.dolly">
<code class="descname">dolly</code><span class="sig-paren">(</span><em>val</em><span class="sig-paren">)</span><a class="headerlink" href="#opengl.camera.Camera.dolly" title="Permalink to this definition">¶</a></dt>
<dd><p>Move the camera eye towards/away from the scene center.</p>
<p>This has the effect of zooming. A value &gt; 1 zooms out,
a value &lt; 1 zooms in. The resulting enlargement of the view
will approximately be 1/val.
A zero value will move the camera to the center of the scene.
The front and back clipping planes may need adjustment after
a dolly operation.</p>
</dd></dl>

<dl class="method">
<dt id="opengl.camera.Camera.pan">
<code class="descname">pan</code><span class="sig-paren">(</span><em>val</em>, <em>axis=0</em><span class="sig-paren">)</span><a class="headerlink" href="#opengl.camera.Camera.pan" title="Permalink to this definition">¶</a></dt>
<dd><p>Rotate the camera around axis through its eye.</p>
<p>The camera is rotated around an axis through the eye point.
For axes 0 and 1, this will move the focus, creating a panning
effect. The default axis is parallel to the y-axis, resulting in
horizontal panning. For vertical panning (axis=1) a convenience
alias tilt is created.
For axis = 2 the operation is equivalent to the rotate operation.</p>
</dd></dl>

<dl class="method">
<dt id="opengl.camera.Camera.tilt">
<code class="descname">tilt</code><span class="sig-paren">(</span><em>val</em><span class="sig-paren">)</span><a class="headerlink" href="#opengl.camera.Camera.tilt" title="Permalink to this definition">¶</a></dt>
<dd><p>Rotate the camera up/down around its own horizontal axis.</p>
<p>The camera is rotated around and perpendicular to the plane of the
y-axis and the viewing axis. This has the effect of a vertical pan.
A positive value tilts the camera up, shifting the scene down.
The value is specified in degrees.</p>
</dd></dl>

<dl class="method">
<dt id="opengl.camera.Camera.move">
<code class="descname">move</code><span class="sig-paren">(</span><em>dx</em>, <em>dy</em>, <em>dz</em><span class="sig-paren">)</span><a class="headerlink" href="#opengl.camera.Camera.move" title="Permalink to this definition">¶</a></dt>
<dd><p>Move the camera over translation (dx,dy,dz) in global coordinates.</p>
<p>The focus of the camera is moved over the specified translation
vector. This has the effect of moving the scene in opposite direction.</p>
</dd></dl>

<dl class="method">
<dt id="opengl.camera.Camera.setLens">
<code class="descname">setLens</code><span class="sig-paren">(</span><em>fovy=None</em>, <em>aspect=None</em><span class="sig-paren">)</span><a class="headerlink" href="#opengl.camera.Camera.setLens" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the field of view of the camera.</p>
<p>We set the field of view by the vertical opening angle fovy
and the aspect ratio (width/height) of the viewing volume.
A parameter that is not specified is left unchanged.</p>
</dd></dl>

<dl class="method">
<dt id="opengl.camera.Camera.resetArea">
<code class="descname">resetArea</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#opengl.camera.Camera.resetArea" title="Permalink to this definition">¶</a></dt>
<dd><p>Set maximal camera area.</p>
<p>Resets the camera window area to its maximum values corresponding
to the fovy setting, symmetrical about the camera axes.</p>
</dd></dl>

<dl class="method">
<dt id="opengl.camera.Camera.setArea">
<code class="descname">setArea</code><span class="sig-paren">(</span><em>hmin</em>, <em>vmin</em>, <em>hmax</em>, <em>vmax</em>, <em>relative=True</em>, <em>focus=False</em>, <em>center=False</em>, <em>clip=True</em><span class="sig-paren">)</span><a class="headerlink" href="#opengl.camera.Camera.setArea" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the viewable area of the camera.</p>
</dd></dl>

<dl class="method">
<dt id="opengl.camera.Camera.zoomArea">
<code class="descname">zoomArea</code><span class="sig-paren">(</span><em>val=0.5</em>, <em>area=None</em><span class="sig-paren">)</span><a class="headerlink" href="#opengl.camera.Camera.zoomArea" title="Permalink to this definition">¶</a></dt>
<dd><p>Zoom in/out by shrinking/enlarging the camera view area.</p>
<p>The zoom factor is relative to the current setting.
Values smaller than 1.0 zoom in, larger values zoom out.</p>
</dd></dl>

<dl class="method">
<dt id="opengl.camera.Camera.transArea">
<code class="descname">transArea</code><span class="sig-paren">(</span><em>dx</em>, <em>dy</em><span class="sig-paren">)</span><a class="headerlink" href="#opengl.camera.Camera.transArea" title="Permalink to this definition">¶</a></dt>
<dd><p>Pan by moving the vamera area.</p>
<p>dx and dy are relative movements in fractions of the
current area size.</p>
</dd></dl>

<dl class="method">
<dt id="opengl.camera.Camera.setClip">
<code class="descname">setClip</code><span class="sig-paren">(</span><em>near</em>, <em>far</em><span class="sig-paren">)</span><a class="headerlink" href="#opengl.camera.Camera.setClip" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the near and far clipping planes</p>
</dd></dl>

<dl class="method">
<dt id="opengl.camera.Camera.setTracking">
<code class="descname">setTracking</code><span class="sig-paren">(</span><em>onoff=True</em><span class="sig-paren">)</span><a class="headerlink" href="#opengl.camera.Camera.setTracking" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable/disable coordinate tracking using the camera</p>
</dd></dl>

<dl class="method">
<dt id="opengl.camera.Camera.setProjection">
<code class="descname">setProjection</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#opengl.camera.Camera.setProjection" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the projection matrix.</p>
<p>This computes and sets the camera&#8217;s projection matrix, depending
on the current camera settings. The projection can either be
an orthogonal or a perspective one.</p>
<p>The computed matrix is saved as the camera&#8217;s projection matrix,
and the lensChanged attribute is set to False.</p>
<p>The matrix can be retrieved from the projection attribute,
and can be loaded in the GL context with loadProjection().</p>
<p>This function does nothing if the camera is locked.</p>
</dd></dl>

<dl class="method">
<dt id="opengl.camera.Camera.loadProjection">
<code class="descname">loadProjection</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#opengl.camera.Camera.loadProjection" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the Projection matrix.</p>
<p>If lens parameters of the camera have been changed, the current
Projection matrix is rebuild.
Then, the current Projection matrix of the camera is loaded into the
OpenGL engine.</p>
</dd></dl>

<dl class="method">
<dt id="opengl.camera.Camera.pickMatrix">
<code class="descname">pickMatrix</code><span class="sig-paren">(</span><em>rect</em>, <em>viewport=None</em><span class="sig-paren">)</span><a class="headerlink" href="#opengl.camera.Camera.pickMatrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a picking matrix.</p>
<p>The picking matrix confines the scope of the normalized device
coordinates to a rectangular subregion of the camera viewport.
This means that values in the range -1 to +1 are inside the
rectangle.</p>
<p>Parameters:</p>
<ul class="simple">
<li><cite>rect</cite>: a tuple of 4 floats (x,y,w,h) defining the picking region
center (x,y) and size (w,h)</li>
<li><cite>viewport</cite>: a tuple of 4 int values (xmin,ymin,xmax,ymax) defining
the size of the viewport. This is normally left unspecified and
set to the camera viewport.</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="opengl.camera.Camera.eyeToClip">
<code class="descname">eyeToClip</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#opengl.camera.Camera.eyeToClip" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform a vertex from eye to clip coordinates.</p>
<p>This transforms the vertex using the current Projection matrix.</p>
<p>It is equivalent with multiplying the homogeneous
coordinates with the Projection matrix, but is done here
in an optimized way.</p>
</dd></dl>

<dl class="method">
<dt id="opengl.camera.Camera.clipToEye">
<code class="descname">clipToEye</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#opengl.camera.Camera.clipToEye" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform a vertex from clip to eye coordinates.</p>
<p>This transforms the vertex using the inverse of the
current Projection matrix.</p>
<p>It is equivalent with multiplying the homogeneous
coordinates with the inverse Projection matrix, but is done
here in an optimized way.</p>
</dd></dl>

<dl class="method">
<dt id="opengl.camera.Camera.lookAt">
<code class="descname">lookAt</code><span class="sig-paren">(</span><em>focus=None</em>, <em>eye=None</em>, <em>up=None</em><span class="sig-paren">)</span><a class="headerlink" href="#opengl.camera.Camera.lookAt" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the Modelview matrix to look at the specified focus point.</p>
<p>The Modelview matrix is set with the camera positioned at eye
and looking at the focus points, while the camera up vector is
in the plane of the camera axis (focus-eye) and the specified
up vector.</p>
<p>If any of the arguments is left unspecified, the current value
will be used.</p>
</dd></dl>

<dl class="method">
<dt id="opengl.camera.Camera.rotate">
<code class="descname">rotate</code><span class="sig-paren">(</span><em>val</em>, <em>vx</em>, <em>vy</em>, <em>vz</em><span class="sig-paren">)</span><a class="headerlink" href="#opengl.camera.Camera.rotate" title="Permalink to this definition">¶</a></dt>
<dd><p>Rotate the camera around current camera axes.</p>
</dd></dl>

<dl class="method">
<dt id="opengl.camera.Camera.setModelview">
<code class="descname">setModelview</code><span class="sig-paren">(</span><em>m=None</em>, <em>angles=None</em><span class="sig-paren">)</span><a class="headerlink" href="#opengl.camera.Camera.setModelview" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the Modelview matrix.</p>
<p>The Modelview matrix can be set from one of the following sources:</p>
<ul class="simple">
<li>if <cite>mat</cite> is specified, it is a 4x4 matrix with a valuable
Modelview transformation. It will be set as the current camera
Modelview matrix.</li>
<li>else, if <cite>angles</cite> is specified, it is a sequence of the three
camera angles (latitude, longitude and twist). The camera
Modelview matrix is set from the current camera focus,
the current camera distance, and the specified angles.
This option is typically used to change the viewing direction
of the camera, while keeping the focus point and camera distance.</li>
<li>else, if the viewChanged flags is set, the camera Modelview
matrix is set from the current camera focus, the current camera
distance, and the current camera rotation matrix.
This option is typically used after changing the camera focus
point and/or distance, while keeping the current viewing angles.</li>
<li>else, the current Modelview matrix remains unchanged.</li>
</ul>
<p>In all cases, if a modelview callback was set, it is called,
and the viewChanged flag is cleared.</p>
</dd></dl>

<dl class="method">
<dt id="opengl.camera.Camera.loadModelview">
<code class="descname">loadModelview</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#opengl.camera.Camera.loadModelview" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the Modelview matrix.</p>
<p>If camera positioning parameters have been changed, the current
Modelview matrix is rebuild.
Then, the current Modelview matrix of the camera is loaded into the
OpenGL engine.</p>
</dd></dl>

<dl class="method">
<dt id="opengl.camera.Camera.toEye">
<code class="descname">toEye</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#opengl.camera.Camera.toEye" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform a vertex from world to eye coordinates.</p>
<p>This transforms the vertex using the current Modelview matrix.</p>
<p>It is equivalent with multiplying the homogeneous
coordinates with the Modelview matrix, but is done here
in an optimized way.</p>
</dd></dl>

<dl class="method">
<dt id="opengl.camera.Camera.toWorld">
<code class="descname">toWorld</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#opengl.camera.Camera.toWorld" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform a vertex from eye to world coordinates.</p>
<p>This transforms the vertex using the inverse of the
current Modelview matrix.</p>
<p>It is equivalent with multiplying the homogeneous
coordinates with the inverse Modelview matrix, but is done
here in an optimized way.</p>
</dd></dl>

<dl class="method">
<dt id="opengl.camera.Camera.toWindow">
<code class="descname">toWindow</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#opengl.camera.Camera.toWindow" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert normalized device coordinates to window coordinates</p>
</dd></dl>

<dl class="method">
<dt id="opengl.camera.Camera.fromWindow">
<code class="descname">fromWindow</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#opengl.camera.Camera.fromWindow" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert window coordinates to  normalized device coordinates</p>
</dd></dl>

<dl class="method">
<dt id="opengl.camera.Camera.toNDC">
<code class="descname">toNDC</code><span class="sig-paren">(</span><em>x</em>, <em>rect=None</em><span class="sig-paren">)</span><a class="headerlink" href="#opengl.camera.Camera.toNDC" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert world coordinates to normalized device coordinates.</p>
<p>The normalized device coordinates (NDC) have x and y values
in the range -1 to +1 for points that are falling within the
visible region of the camera.</p>
<p>Parameters:</p>
<ul class="simple">
<li><cite>x</cite>: Coords with the world coordinates to be converted</li>
<li><cite>rect</cite>: optional, a tuple of 4 values (x,y,w,h) specifying
a rectangular subregion of the camera&#8217;s viewport. The default
is the full camera viewport.</li>
</ul>
<p>The return value is a Coords. The z-coordinate provides
depth information.</p>
</dd></dl>

<dl class="method">
<dt id="opengl.camera.Camera.toNDC1">
<code class="descname">toNDC1</code><span class="sig-paren">(</span><em>x</em>, <em>rect=None</em><span class="sig-paren">)</span><a class="headerlink" href="#opengl.camera.Camera.toNDC1" title="Permalink to this definition">¶</a></dt>
<dd><p>This is like toNDC without the perspective divide</p>
<p>This function is useful to compute the vertex position of a
3D point as computed by the vertex shader.</p>
</dd></dl>

<dl class="method">
<dt id="opengl.camera.Camera.project">
<code class="descname">project</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#opengl.camera.Camera.project" title="Permalink to this definition">¶</a></dt>
<dd><p>Map the world coordinates (x,y,z) to window coordinates.</p>
</dd></dl>

<dl class="method">
<dt id="opengl.camera.Camera.unproject">
<code class="descname">unproject</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#opengl.camera.Camera.unproject" title="Permalink to this definition">¶</a></dt>
<dd><p>Map the window coordinates x to object coordinates.</p>
</dd></dl>

<dl class="method">
<dt id="opengl.camera.Camera.inside">
<code class="descname">inside</code><span class="sig-paren">(</span><em>x</em>, <em>rect=None</em>, <em>return_depth=False</em><span class="sig-paren">)</span><a class="headerlink" href="#opengl.camera.Camera.inside" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if points are visible inside camera.</p>
<p>Parameters:</p>
<ul class="simple">
<li><cite>rect</cite>: optional, a tuple of 4 values (x,y,w,h) specifying
a rectangular subregion of the camera&#8217;s viewport. The default
is the full camera viewport.</li>
<li><cite>return_depth</cite>: if True, also returns the the z-depth of the
points.</li>
</ul>
<p>Returns a boolean array with value 1 (True) for the points that
are projected inside the rectangular are of the camera.
If <cite>return_depth</cite> is True, a second array with the z-depth value
of all the points is returned.</p>
</dd></dl>

<dl class="method">
<dt id="opengl.camera.Camera.loadModelView">
<code class="descname">loadModelView</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#opengl.camera.Camera.loadModelView" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the Modelview matrix.</p>
<p>If camera positioning parameters have been changed, the current
Modelview matrix is rebuild.
Then, the current Modelview matrix of the camera is loaded into the
OpenGL engine.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="functions-defined-in-module-opengl-camera">
<h2>69.2. Functions defined in module opengl.camera<a class="headerlink" href="#functions-defined-in-module-opengl-camera" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="opengl.camera.gl_projection">
<code class="descclassname">opengl.camera.</code><code class="descname">gl_projection</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#opengl.camera.gl_projection" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the OpenGL projection matrix</p>
</dd></dl>

<dl class="function">
<dt id="opengl.camera.gl_modelview">
<code class="descclassname">opengl.camera.</code><code class="descname">gl_modelview</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#opengl.camera.gl_modelview" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the OpenGL modelview matrix</p>
</dd></dl>

<dl class="function">
<dt id="opengl.camera.gl_viewport">
<code class="descclassname">opengl.camera.</code><code class="descname">gl_viewport</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#opengl.camera.gl_viewport" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the OpenGL viewport</p>
</dd></dl>

<dl class="function">
<dt id="opengl.camera.gl_loadmodelview">
<code class="descclassname">opengl.camera.</code><code class="descname">gl_loadmodelview</code><span class="sig-paren">(</span><em>m</em><span class="sig-paren">)</span><a class="headerlink" href="#opengl.camera.gl_loadmodelview" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the OpenGL modelview matrix</p>
</dd></dl>

<dl class="function">
<dt id="opengl.camera.gl_loadprojection">
<code class="descclassname">opengl.camera.</code><code class="descname">gl_loadprojection</code><span class="sig-paren">(</span><em>m</em><span class="sig-paren">)</span><a class="headerlink" href="#opengl.camera.gl_loadprojection" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the OpenGL projection matrix</p>
</dd></dl>

<dl class="function">
<dt id="opengl.camera.gl_depth">
<code class="descclassname">opengl.camera.</code><code class="descname">gl_depth</code><span class="sig-paren">(</span><em>x</em>, <em>y</em><span class="sig-paren">)</span><a class="headerlink" href="#opengl.camera.gl_depth" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the depth value of the pixel at (x,y)</p>
</dd></dl>

<dl class="function">
<dt id="opengl.camera.normalize">
<code class="descclassname">opengl.camera.</code><code class="descname">normalize</code><span class="sig-paren">(</span><em>x</em>, <em>w</em><span class="sig-paren">)</span><a class="headerlink" href="#opengl.camera.normalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Normalized coordinates inside a window.</p>
<p>Parameters:</p>
<ul class="simple">
<li><cite>x</cite>: an (np,nc) array with coordinates.</li>
<li><cite>w</cite>: a (2,nc) array with minimal and width of the window that will
be mapped to the range -1..1.</li>
</ul>
<p>Returns an array with the x values linearly remapped thus that values w[0]
become -1 and values w[0]+w[1] become +1.</p>
</dd></dl>

<dl class="function">
<dt id="opengl.camera.denormalize">
<code class="descclassname">opengl.camera.</code><code class="descname">denormalize</code><span class="sig-paren">(</span><em>x</em>, <em>w</em><span class="sig-paren">)</span><a class="headerlink" href="#opengl.camera.denormalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Map normalized coordinates to fit a window</p>
<p>Parameters:</p>
<ul class="simple">
<li><cite>x</cite>: an (np,nc) array with normalized coordinates.</li>
<li><cite>w</cite>: a (2,nc) array with minimal and width values of the window.</li>
</ul>
<p>Returns an array with the x values linearly remapped thus that values -1
coincide with the minimum window values and +1 with the minimum+width
values.</p>
</dd></dl>

<dl class="function">
<dt id="opengl.camera.perspective_matrix">
<code class="descclassname">opengl.camera.</code><code class="descname">perspective_matrix</code><span class="sig-paren">(</span><em>left</em>, <em>right</em>, <em>bottom</em>, <em>top</em>, <em>near</em>, <em>far</em><span class="sig-paren">)</span><a class="headerlink" href="#opengl.camera.perspective_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a perspective Projection matrix.</p>
</dd></dl>

<dl class="function">
<dt id="opengl.camera.orthogonal_matrix">
<code class="descclassname">opengl.camera.</code><code class="descname">orthogonal_matrix</code><span class="sig-paren">(</span><em>left</em>, <em>right</em>, <em>bottom</em>, <em>top</em>, <em>near</em>, <em>far</em><span class="sig-paren">)</span><a class="headerlink" href="#opengl.camera.orthogonal_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an orthogonal Projection matrix.</p>
</dd></dl>

<dl class="function">
<dt id="opengl.camera.pick_matrix">
<code class="descclassname">opengl.camera.</code><code class="descname">pick_matrix</code><span class="sig-paren">(</span><em>x</em>, <em>y</em>, <em>w</em>, <em>h</em>, <em>viewport</em><span class="sig-paren">)</span><a class="headerlink" href="#opengl.camera.pick_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a pick Projection matrix</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="opengl.canvas.html" title="70. opengl.canvas — This implements an OpenGL drawing widget for painting 3D scenes."
             >next</a> |</li>
        <li class="right" >
          <a href="plugins.calpy_itf.html" title="68. plugins.calpy_itf — Calpy interface for pyFormex."
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">pyFormex 1.0.2-a6 documentation</a> &gt;</li>
          <li class="nav-item nav-item-1"><a href="../refman.html" >pyFormex reference manual</a> &gt;</li> 
      </ul>
    </div>
    <div class="footer">
    <span class="left">
        &copy; Copyright 2004-2015, Benedict Verhegghe.
    </span>
      Last updated on Sep 09, 2016.
    <span class="right">
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.4.5.
    </span>
    </div>
  </body>
</html>